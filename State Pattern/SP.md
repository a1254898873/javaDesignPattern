状态模式（State Pattern）又称为状态机模式（State Machine Pattern），是允许对象在内部状态发生改变的同时改变对象的行为，使得看起来像是修改了类一样，其核心就是给每一种状态绑定一种行为。

状态模式中的类的行为是由状态决定的，不同的状态有不同的行为。状态模式的意图是让一个对象在其内部改变时行为也随之一起改变。



#### 状态模式适用场景

当控制一个对象状态的条件表达式过于复杂的时候，就可以考虑使用状态模式，通过把状态的判断逻辑转移到表示不同状态的一系列类中，这样就可以把复杂的逻辑简单化，使得对象的行为依赖于它的状态，并且会随着状态的改变而同时改变行为。

#### 状态模式优点

1. 通过将每个状态设置为独立的对象，消除了代码中存在的大量 if/else 等判断分支，使得代码更加简洁，更容易维护。
2. 将不同的状态通过不同的类来表示，使得状态切换时相比较于用数字或者字符串来表示时更加直观，转换目的也更加明确。
3. 每个状态类的职责单一明确，符合单一职责原则。

#### 状态模式缺点

1. 状态过多会引起类膨胀。
2. 状态模式的结构与实现相对较为复杂，容易造成代码混乱。
3. 对于支持状态切换的状态类违反了开闭原则，因为一旦状态修改或者中间要新增状态，则需要修改对应的源代码，否则会出现状态切换错误。